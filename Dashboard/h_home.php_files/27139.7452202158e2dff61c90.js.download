"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[27139],{975420:(e,t,n)=>{n.d(t,{initGA:()=>c,trackTiming:()=>u});var i=n(251954),o=n(261030),r=n(588948),a=n(638456),l=n(691805);let s=!1;function c(){if(s)return;(0,r.updateInitData)();const e=(0,r.getInitData)();if(!e.gaId)return void(window.gtag=()=>{});s=!0,(0,l.appendScript)(`https://www.googletagmanager.com/gtag/js?id=${(0,r.getInitData)().gaId}`),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date);const t={anonymize_ip:!0};window.TVD&&(t.app_name="TVD",t.app_version=(0,a.desktopAppVersion)()),e.gaVars&&window.gtag("set",e.gaVars),window.gtag("consent","default",{analytics_storage:(0,o.getCookieSetting)(o.CookieSettings.Analytics)?"granted":"denied"}),window.gtag("config",e.gaId,t),i.subscribe(o.cookieSettingsChangeEvent,((e,t)=>{e===o.CookieSettings.Analytics&&window.gtag("consent","update",{analytics_storage:t?"granted":"denied"})}),null)}function u(e,t,n,i){c(),window.gtag("event","timing_complete",{name:t,value:n,event_category:e,event_label:i})}},304986:(e,t,n)=>{n.d(t,{getThemeFromUserSettings:()=>r,saveThemeInUserSettings:()=>a});var i=n(62802),o=n(278855);function r(){return(0,o.getThemeFromCookie)()||(0,i.getValue)("current_theme.name")||null}function a(e){(0,o.setThemeToCookie)(e),(0,i.setValue)("current_theme.name",e,{forceFlush:!0})}},440135:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_THEME:()=>h.DEFAULT_THEME,extractThemeFromModel:()=>L,getCurrentTheme:()=>g,getStdTheme:()=>E,getStdThemeNames:()=>A,getStdThemedValue:()=>C,getTheme:()=>y,getThemeNames:()=>w,getThemedColor:()=>v,isPublicTheme:()=>m,isStdTheme:()=>x,isStdThemeName:()=>T,isStdThemedDefaultValue:()=>N,isThemeExist:()=>F,loadTheme:()=>f,removeTheme:()=>P,restoreTheme:()=>S,saveTheme:()=>M,savedThemeName:()=>_,syncTheme:()=>b,themes:()=>p.themes,translateStdThemeName:()=>I});var i=n(724377),o=n(16665),r=n(304986),a=n(890740);const l=(0,n(272001).getLogger)("Themes.Provider");let s=null;function c(e){return(0,a.fetch)("/theme/?themeName="+encodeURIComponent(e),{credentials:"include",method:"GET"}).then((e=>e.json())).then((e=>{const t={};return e.content&&(t.content=JSON.parse(e.content)),t}))}var u=n(86746),d=n(331633),h=n(484400),p=n(424450);function m(e){return!e.isPrivate}function g(){return p.themes[d.watchedTheme.value()]||p.themes[h.DEFAULT_THEME]}function v(e){return g().getThemedColor(e)}async function f(e,t){const{themeName:n,standardTheme:i,syncState:r=!0,noUndo:a=!1,applyOverrides:l=!1}=t,s=await(i?Promise.resolve(E(n)):y(n)),c=!i;if(void 0!==s.content){const t=!i;l&&(void 0!==(u=s.content).chartProperties&&(0,o.applyDefaultsOverrides)(u.chartProperties),void 0!==u.mainSourceProperties&&(0,o.applyDefaultsOverrides)(u.mainSourceProperties,void 0,!0,"mainSeriesProperties")),await e.applyTheme({theme:s.content,onlyActiveChart:t,restoreNonThemeDefaults:c,themeName:n,standardTheme:i,syncState:r,noUndo:a})}var u;return s}function S(){(0,d.setTheme)((0,
r.getThemeFromUserSettings)()||h.DEFAULT_THEME)}function _(){return(0,r.getThemeFromUserSettings)()}function b(){(0,r.saveThemeInUserSettings)(g().name)}function y(e){return c(e)}function w(){return s||(0,a.fetch)("/themes/",{credentials:"include",method:"GET"}).then((e=>(s=e.json(),s)))}function A(){return u.getStdThemeNames()}function T(e){return A().includes(e)}function E(e){return u.getStdChartTheme(e)||{content:void 0}}function C(e,t){const n=t||g().name,i=u.getStdChartTheme(n),o=0!==e.length&&e.split(".");return i&&i.content&&o?o.reduce(((e,t)=>e[t]),i.content):null}function N(e,t,n){const o=C(e,n);return null!==o&&(0,i.areEqualRgba)((0,i.parseRgba)(o),(0,i.parseRgba)(String(t)))}function M(e,t){return function(e,t){const n=new FormData;return n.append("content",JSON.stringify(t)),n.append("name",e),s=null,(0,a.fetch)("/save-theme/",{credentials:"include",method:"POST",body:n}).then((e=>e.json()),(e=>l.logError(e)))}(e,t)}function P(e){return function(e){const t=new FormData;return t.append("name",e),s=null,(0,a.fetch)("/remove-theme/",{credentials:"include",method:"POST",body:t}).then((e=>e.json()),(e=>l.logError(e)))}(e)}function F(e){return function(e){return c(e).then((e=>Boolean(e.content)))}(e)}function I(e){return u.translateThemeName(e)}function x(e){return u.isStdTheme(e)}function L(e){return{content:{chartProperties:{paneProperties:e.model().properties().childs().paneProperties.state(),scalesProperties:e.model().properties().childs().scalesProperties.state()},sessions:e.model().sessions().properties().state(),mainSourceProperties:e.model().mainSeries().properties().state(),version:e.model().version()}}}},72368:(e,t,n)=>{n.d(t,{isMobile:()=>a,isPlatformMobile:()=>l,canShowNewSymbolSearch:()=>s,getCurrentLocaleInfoCountry:()=>c});var i=n(314802),o=n(87476),r=n(638456);function a(){const e=window.matchMedia("(min-width: 602px) and (min-height: 445px)").matches;return r.CheckMobile.any()&&!e}function l(){return!(0,i.isOnMobileAppPage)("any")&&a()}function s(){return!o.enabled("widget")&&!(0,i.isOnMobileAppPage)("any")}function c(){var e,t;return null===(t=null===(e=window.initData)||void 0===e?void 0:e.currentLocaleInfo)||void 0===t?void 0:t.flag.toUpperCase()}},530254:(e,t,n)=>{n.d(t,{format:()=>u,getMetricPrefix:()=>d,getFractionalDigitsNumber:()=>p});var i=n(650151),o=n(960521),r=n(951512),a=n(738023),l=n(768038);const s=new Map;let c=null;function u(e,t,n,i=2){if(Math.abs(e)>=1e100)return"—";if("volume"===t)return function(e){c||(c=new a.VolumeFormatter);return c.format(e)}(e);if("percents"===t)return(0,l.forceLTRStrSsr)(h(e,i)+"%");const o=n||d(e);return(0,l.forceLTRStrSsr)(function(e,t,n){return`${h(e/t.multiplier,n)}${t.symbol}`}(e,o,i))}function d(e){const t=Math.abs(e);return t<995?{symbol:"",multiplier:1}:t<999995?{symbol:"K",multiplier:1e3}:t<999999995?{symbol:"M",multiplier:1e6}:t<999999999995?{symbol:"B",multiplier:1e9}:{symbol:"T",multiplier:1e12}}function h(e,t){let n="";return e<0&&(n="−",e=-e),n+function(e){if(s.has(e))return(0,i.ensureDefined)(s.get(e));const t=new r.NumericFormatter(e)
;return s.set(e,t),t}(t).format(e)}function p(e){const t=(0,o.Big)(e);return Math.max(t.c.length-t.e-1,0)}},610203:(e,t,n)=>{n.d(t,{PeriodId:()=>i,convertFrequencyToPeriod:()=>u,FINANCIALS_SETS:()=>d,findFinancialsSetIndex:()=>h,getDataFromQuotes:()=>m,getPeriodData:()=>g,getChartSeriesArray:()=>v,generateTooltipValues:()=>f,getPeriodsDataFromQuotes:()=>S,getFinancialsDataFromQuotes:()=>_});var i,o=n(650151),r=n(777754),a=n(497763),l=n(530254),s=n(499791),c=n(436901);function u(e){return e&&2===e?i.HalfYear:i.Quarter}!function(e){e.Year="FY",e.Quarter="FQ",e.HalfYear="FH"}(i||(i={}));const d=()=>[{id:"income statements",title:r.t(null,void 0,n(506823)),chartType:"compare",marginTitle:r.t(null,void 0,n(404871)),fields:["total_revenue","net_income"]},{id:"balance sheet",title:r.t(null,void 0,n(730737)),chartType:"compare",marginTitle:r.t(null,void 0,n(560048)),fields:["total_assets","total_liabilities"]},{id:"cash flow",title:r.t(null,void 0,n(822755)),chartType:"lines",fields:["cash_f_operating_activities","cash_f_investing_activities","cash_f_financing_activities"]}];function h(e){return d().findIndex((t=>t.id===e))||0}function p(e){return{total_revenue:r.t(null,void 0,n(259285)),net_income:r.t(null,void 0,n(485672)),total_assets:r.t(null,void 0,n(697554)),total_liabilities:r.t(null,void 0,n(475385)),cash_f_operating_activities:r.t(null,void 0,n(404621)),cash_f_investing_activities:r.t(null,void 0,n(418959)),cash_f_financing_activities:r.t(null,void 0,n(517831)),fiscal_period:"Fiscal Period"}[e]}function m(e,t,n,i=c.DEFAULT_MAX_DATA_ARRAY_LENGTH){const o=n[t];if(!o)return[];return o[e].slice(0,i).reverse()}function g(e,t,n=c.DEFAULT_MAX_DATA_ARRAY_LENGTH){const i=e[t];if(i)return i.slice(0,n).reverse()}function v(e,t,n,i=0){switch(e.chartType){case"compare":const r=e.fields.map(((e,r)=>({type:"bar",name:p((0,o.ensureDefined)(e)),valueType:"numbers",values:(0,o.ensureDefined)(m((0,o.ensureDefined)(e),t,(0,o.ensureDefined)(n))),defaultColor:(0,a.getColorByIndex)(r+i),showInLegend:!0,buildTooltip:f}))),l=r[0].values.map(((e,t)=>0===e?0:r[1].values[t]/e*100));return r.push({type:"line",name:(0,o.ensureDefined)(e.marginTitle),valueType:"percents",values:l,defaultColor:(0,a.getColorByIndex)(e.fields.length+i),showInLegend:!0,buildTooltip:f}),r;case"lines":return e.fields.map(((e,r)=>({type:"line",name:p((0,o.ensureDefined)(e)),valueType:"numbers",values:(0,o.ensureDefined)(m((0,o.ensureDefined)(e),t,(0,o.ensureDefined)(n))),defaultColor:(0,a.getColorByIndex)(r+i),showInLegend:!0,buildTooltip:f})));default:return[]}}function f(e,t,n,i){const r=e.values[n];if(null===r)return null;const a=(0,l.format)(r,e.valueType);return[{title:(0,s.capitalizeFirstLetter)(e.name.toLowerCase()),color:null!=i?i:(0,o.ensureDefined)(e.defaultColor),value:a}]}function S(e){const{fiscal_period_fy_h:t,fiscal_period_fq_h:n,fiscal_period_fh_h:o}=e;if(t||n||o)return{[i.Year]:t,[i.Quarter]:n,[i.HalfYear]:o}}function _(e){
const{total_revenue_fy_h:t,total_revenue_fq_h:n,total_revenue_fh_h:o,net_income_fy_h:r,net_income_fq_h:a,net_income_fh_h:l,total_assets_fy_h:s,total_assets_fq_h:c,total_assets_fh_h:u,total_liabilities_fy_h:d,total_liabilities_fq_h:h,total_liabilities_fh_h:p,cash_f_operating_activities_fy_h:m,cash_f_operating_activities_fq_h:g,cash_f_operating_activities_fh_h:v,cash_f_investing_activities_fy_h:f,cash_f_investing_activities_fq_h:_,cash_f_investing_activities_fh_h:y,cash_f_financing_activities_fy_h:w,cash_f_financing_activities_fq_h:A,cash_f_financing_activities_fh_h:T,fiscal_period_fy_h:E,fiscal_period_fq_h:C,fiscal_period_fh_h:N}=e,M=S(e);if(M){const{[i.Year]:e,[i.Quarter]:S,[i.HalfYear]:P}=M;return{[i.Year]:!e||b(t)?void 0:{total_revenue:t,net_income:r,total_assets:s,total_liabilities:d,cash_f_operating_activities:m,cash_f_investing_activities:f,cash_f_financing_activities:w,fiscal_period:E},[i.Quarter]:!S||b(n)?void 0:{total_revenue:n,net_income:a,total_assets:c,total_liabilities:h,cash_f_operating_activities:g,cash_f_investing_activities:_,cash_f_financing_activities:A,fiscal_period:C},[i.HalfYear]:P?{total_revenue:o,net_income:l,total_assets:u,total_liabilities:p,cash_f_operating_activities:v,cash_f_investing_activities:y,cash_f_financing_activities:T,fiscal_period:N}:void 0}}}function b(e){return!e||e.every((e=>null===e))}},199687:(e,t,n)=>{n.d(t,{PageId:()=>i,PAGES:()=>a,STATEMENTS_CATEGORIES:()=>l,PERIODS:()=>s,DEFAULT_PERIOD:()=>c});var i,o=n(777754),r=n(610203);!function(e){e.Overview="overview",e.Statements="statements",e.Statistics="statistics",e.Dividends="dividends",e.Earnings="earnings"}(i||(i={}));const a=[{id:i.Overview,title:o.t(null,void 0,n(37260))},{id:i.Statements,title:o.t(null,void 0,n(861589))},{id:i.Statistics,title:o.t(null,void 0,n(751706))},{id:i.Dividends,title:o.t(null,void 0,n(634135))},{id:i.Earnings,title:o.t(null,void 0,n(783851))}],l=[{id:"income statements",title:o.t(null,void 0,n(676712))},{id:"balance sheet",title:o.t(null,void 0,n(342134))},{id:"cash flow",title:o.t(null,void 0,n(638237))}],s=(e=r.PeriodId.Quarter)=>[{id:r.PeriodId.Year,title:o.t(null,void 0,n(34314))},{id:e,title:e===r.PeriodId.HalfYear?o.t(null,void 0,n(512421)):o.t(null,void 0,n(908831))}],c=e=>s(e)[1].id},951713:(e,t,n)=>{n.d(t,{getHideOptions:()=>u,toggleHideMode:()=>d,getSavedHideMode:()=>h});var i=n(650151),o=n(777754),r=n(62802),a=n(893271),l=n(480071),s=n(597101);let c=null;function u(){if(null!==c)return c;const e=(0,a.tradingService)();return c=new Map([["drawings",{label:o.t(null,void 0,n(413277)),dataName:"hide-drawing-tools",tooltip:{active:o.t(null,void 0,n(998116)),inactive:o.t(null,void 0,n(895551))},getBoxedValue:()=>(0,l.hideAllDrawings)(),trackLabel:"hide drawings"}],["indicators",{label:o.t(null,void 0,n(44177)),dataName:"hide-indicators",tooltip:{active:o.t(null,void 0,n(249982)),inactive:o.t(null,void 0,n(986306))},getBoxedValue:()=>(0,l.hideAllIndicators)(),trackLabel:"hide indicators"}],["positions",{label:o.t(null,void 0,n(190540)),dataName:"hide-positions-and-orders",tooltip:{
active:o.t(null,void 0,n(262632)),inactive:o.t(null,void 0,n(770803))},getBoxedValue:()=>(0,i.ensureNotNull)(e).showTradedSources,inverted:!0,trackLabel:"hide positions"}],["all",{label:o.t(null,void 0,n(133911)),dataName:"hide-all",tooltip:{active:e?o.t(null,void 0,n(538293)):o.t(null,void 0,n(839046)),inactive:e?o.t(null,void 0,n(67927)):o.t(null,void 0,n(44312))},trackLabel:"hide all"}]]),e||c.delete("positions"),c}function d(e){e?r.setValue("ChartToolsHideMode",e):e=h();const t=p();let n=!t;return"all"===e?(m(((e,t,i)=>{e.setValue(i?!n:n)})),s.hideStateChange.fire({hideMode:e,isActive:n}),n):(m(((i,o,r)=>{if(o===e){const e=t?!r:!i.value();i.setValue(e),n=r?!e:e}else i.setValue(Boolean(r))})),s.hideStateChange.fire({hideMode:e,isActive:n}),n)}function h(){const e=r.getValue("ChartToolsHideMode","drawings");return u().has(e)?e:"drawings"}function p(){let e=!0;return m(((t,n,i)=>{const o=t.value();e=e&&(i?!o:o)})),e}function m(e){u().forEach(((t,n)=>{var i;const o=null===(i=t.getBoxedValue)||void 0===i?void 0:i.call(t);o&&e(o,n,t.inverted)}))}},738600:(e,t,n)=>{n.d(t,{logger:()=>i});const i=(0,n(272001).getLogger)("Platform.Model.Watchlist")},889267:(e,t,n)=>{n.d(t,{symbolTokenEscapeRe:()=>a,tokenize:()=>c});var i=n(87476),o=n(173777);const r=i.enabled("charting_library_base")?/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:.&])*|'.+?'/:/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:.&])*|'.+?'/,a=/[+\-/*]/,l={number:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:.&]))|\.\d+/,incompleteNumber:/\./,symbol:r,incompleteSymbol:/'[^']*/,separatorPrefix:o.SEPARATOR_PREFIX,openBrace:"(",closeBrace:")",plus:"+",minus:"-",multiply:"*",divide:"/",power:"^",whitespace:/[\0-\x20\s]+/,unparsed:null},s=new RegExp(Object.values(l).map((e=>{return null===e?"":`(${"string"==typeof e?(t=e,t.replace(/[\^$()[\]{}*+?|\\]/g,"\\$&")):e.source})`;var t})).filter((e=>""!==e)).concat(".").join("|"),"g");function c(e){if(!e)return[];const t=[],n=Object.keys(l);let i;for(;i=s.exec(e);){let e=!1;for(let o=n.length;o--;)if(i[o+1]){n[o]&&t.push({value:i[o+1],type:n[o],precedence:0,offset:i.index}),e=!0;break}e||t.push({value:i[0],type:"unparsed",precedence:0,offset:i.index})}return t}},494878:(e,t,n)=>{n.d(t,{defaultContextMenuOptions:()=>Tn,createActionAddAlert:()=>Cn,createActionTrade:()=>Mn,createPasteAction:()=>Pn,createVisualOrderAction:()=>Fn,createChangeIntervalsVisibilitiesAction:()=>In,createActionCopyPrice:()=>xn,createMTPredictorActions:()=>Ln,createLinesAction:()=>Dn,createSyncDrawingActions:()=>kn,ActionsProvider:()=>Wn})
;var i=n(650151),o=n(272001),r=n(960521),a=n(758337),l=n(777754),s=n(87476),c=n(310399),u=n(957191),d=n(371846),h=n(943221),p=n(595531),m=n(345848),g=n(959530),v=n(821350),f=n(973580),S=n(348406),_=n(312554),b=n(893271),y=n(639891),w=n(595300),A=n(74149),T=n(969876),E=n(44314),C=n(293689),N=n(404638),M=n(930700),P=n(594348),F=n(150137),I=n(381554),x=n(108218),L=n(492534),D=n(157260),k=n(711496),W=n(210490),O=n(125226),R=n(108184),V=n(664224),U=n(500521),H=n(744866),B=n(969866),j=n(989104),Y=n(470316),G=n(104436),z=n(921341),q=n(501817),K=n(720444),Z=n(383990),Q=n(69836),$=n(463346),X=n(354145),J=n(868151),ee=n(683890),te=n(480071),ne=n(568450),ie=n(323017),oe=n(793993);const re=(0,
o.getLogger)("Chart.ActionsProvider"),ae=new ee.TranslatedString("show alert label lines",l.t(null,void 0,n(916237))),le=new ee.TranslatedString("hide alert label lines",l.t(null,void 0,n(491842))),se=new ee.TranslatedString("change visibility",l.t(null,void 0,n(521511))),ce=new ee.TranslatedString("pin to scale {label}",l.t(null,void 0,n(156015))),ue=new ee.TranslatedString("pin to right scale",l.t(null,void 0,n(22615))),de=new ee.TranslatedString("pin to left scale",l.t(null,void 0,n(84018))),he=new ee.TranslatedString("change earnings visibility",l.t(null,void 0,n(88217))),pe=new ee.TranslatedString("change dividends visibility",l.t(null,void 0,n(184944))),me=new ee.TranslatedString("change splits visibility",l.t(null,void 0,n(374488))),ge=new ee.TranslatedString("change continuous contract switch visibility",l.t(null,void 0,n(407017))),ve=new ee.TranslatedString("change futures contract expiration visibility",l.t(null,void 0,n(628288))),fe=new ee.TranslatedString("change latest news visibility",l.t(null,void 0,n(77578))),Se=new ee.TranslatedString("show all ideas",l.t(null,void 0,n(813622))),_e=new ee.TranslatedString("show ideas of followed users",l.t(null,void 0,n(826267))),be=new ee.TranslatedString("show my ideas only",l.t(null,void 0,n(740061))),ye=new ee.TranslatedString("change events visibility on chart",l.t(null,void 0,n(979574))),we=new ee.TranslatedString("add this symbol to entire layout",l.t(null,void 0,n(527982))),Ae=new ee.TranslatedString("add this indicator to entire layout",l.t(null,void 0,n(182388))),Te=new ee.TranslatedString("add this strategy to entire layout",l.t(null,void 0,n(894292))),Ee=new ee.TranslatedString("add this financial metric to entire layout",l.t(null,void 0,n(422856))),Ce=new ee.TranslatedString("apply drawing template",l.t(null,void 0,n(349037))),Ne=new ee.TranslatedString("lock objects",l.t(null,void 0,n(168163))),Me=new ee.TranslatedString("unlock objects",l.t(null,void 0,n(766824))),Pe=new ee.TranslatedString("change visibility at current interval and above",l.t(null,void 0,n(678422))),Fe=new ee.TranslatedString("change visibility at current interval and below",l.t(null,void 0,n(249529))),Ie=new ee.TranslatedString("change visibility at current interval",l.t(null,void 0,n(416698))),xe=new ee.TranslatedString("change visibility at all intervals",l.t(null,void 0,n(666927))),Le=l.t(null,void 0,n(108700)),De=l.t(null,void 0,n(690830)),ke=l.t(null,void 0,n(364885)),We=(0,J.appendEllipsis)(l.t(null,void 0,n(893512))),Oe=l.t(null,void 0,n(727558)),Re=l.t(null,void 0,n(287085)),Ve=(0,
J.appendEllipsis)(l.t(null,void 0,n(952302))),Ue=l.t(null,void 0,n(581428)),He=l.t(null,void 0,n(831971)),Be=l.t(null,void 0,n(311156)),je=l.t(null,void 0,n(615682)),Ye=l.t(null,void 0,n(266631)),Ge=l.t(null,void 0,n(737422)),ze=l.t(null,void 0,n(805716)),qe=l.t(null,void 0,n(650352)),Ke=l.t(null,void 0,n(819263)),Ze=l.t(null,void 0,n(615818)),Qe=l.t(null,void 0,n(705897)),$e=l.t(null,void 0,n(958976)),Xe=l.t(null,void 0,n(611661)),Je=l.t(null,void 0,n(466560)),et=l.t(null,void 0,n(953958)),tt=l.t(null,void 0,n(734150)),nt=l.t(null,void 0,n(783927)),it=l.t(null,void 0,n(315644)),ot=l.t(null,void 0,n(442660)),rt=l.t(null,void 0,n(844788)),at=l.t(null,void 0,n(770437)),lt=l.t(null,void 0,n(571263)),st=l.t(null,void 0,n(370573)),ct=l.t(null,void 0,n(259560)),ut=l.t(null,void 0,n(514125)),dt=l.t(null,void 0,n(444538)),ht=l.t(null,void 0,n(556948)),pt=l.t(null,void 0,n(920207)),mt=l.t(null,void 0,n(665810)),gt=l.t(null,void 0,n(603822)),vt=l.t(null,void 0,n(697324)),ft=l.t(null,void 0,n(500764)),St=l.t(null,void 0,n(708128)),_t=l.t(null,void 0,n(361201)),bt=l.t(null,void 0,n(832156)),yt=l.t(null,void 0,n(591130)),wt=l.t(null,void 0,n(737680)),At=l.t(null,void 0,n(243707)),Tt=l.t(null,void 0,n(739065)),Et=l.t(null,void 0,n(454727)),Ct=l.t(null,void 0,n(366156)),Nt=l.t(null,void 0,n(976598)),Mt=l.t(null,void 0,n(203485)),Pt=l.t(null,void 0,n(745828)),Ft=l.t(null,void 0,n(702899)),It=l.t(null,void 0,n(640887)),xt=l.t(null,void 0,n(753387)),Lt=l.t(null,void 0,n(796712)),Dt=l.t(null,void 0,n(126354)),kt=l.t(null,void 0,n(219796)),Wt=l.t(null,void 0,n(559901)),Ot=l.t(null,void 0,n(223221)),Rt=l.t(null,void 0,n(422198)),Vt=l.t(null,void 0,n(127557)),Ut=l.t(null,void 0,n(598486)),Ht=l.t(null,void 0,n(973106)),Bt=l.t(null,void 0,n(85964)),jt=l.t(null,void 0,n(559192)),Yt=l.t(null,void 0,n(583182)),Gt=(0,J.appendEllipsis)(l.t(null,void 0,n(592206))),zt=(0,J.appendEllipsis)(l.t(null,void 0,n(303612))),qt=(0,J.appendEllipsis)(l.t(null,void 0,n(389517))),Kt=l.t(null,void 0,n(813345)),Zt=(0,J.appendEllipsis)(l.t(null,void 0,n(309908))),Qt=l.t(null,void 0,n(35216)),$t=l.t(null,void 0,n(552977)),Xt=l.t(null,void 0,n(419611)),Jt=l.t(null,void 0,n(738342)),en=l.t(null,void 0,n(715101)),tn=l.t(null,void 0,n(642284)),nn=l.t(null,void 0,n(246771)),on=l.t(null,void 0,n(966263)),rn=l.t(null,void 0,n(830816)),an=l.t(null,void 0,n(124620)),ln=l.t(null,void 0,n(484813)),sn=l.t(null,void 0,n(430709)),cn=l.t(null,void 0,n(748284)),un=l.t(null,void 0,n(487933)),dn=l.t(null,void 0,n(258669)),hn=(0,J.appendEllipsis)(l.t(null,void 0,n(389517))),pn=l.t(null,void 0,n(308251)),mn=l.t(null,void 0,n(34059)),gn=l.t(null,void 0,n(364288)),vn=l.t(null,void 0,n(777920)),fn=l.t(null,void 0,n(575669)),Sn=l.t(null,void 0,n(608886)),_n=l.t(null,void 0,n(618008)),bn=l.t(null,void 0,n(733606)),yn=(0,J.appendEllipsis)(l.t(null,void 0,n(665986))),wn=l.t(null,void 0,n(729682)),An=l.t(null,void 0,n(28851)),Tn={general:!0,mainSeries:!0,mainSeriesTrade:!1,esdStudies:!0,studies:!0,fundamentals:!0,lineTools:!0,publishedCharts:!0,ordersAndPositions:!0,alerts:!0,chartEvents:!0,
objectTree:!0,gotoLineTool:!1};function En(e){return(0,X.isActingAsSymbolSource)(e)?e.symbolTitle(!0,!0):e.title(!0)}function Cn(e,t){const n=e.model().model();if(n.isInReplay())return null;if(n.mainSeries().isConvertedToOtherCurrency()||n.mainSeries().isConvertedToOtherUnit())return null;let o={},r=Le,a=null;const l=void 0!==t.series?Nn(t.series,n.mainSeries()):t.e?Nn((0,i.ensureNotNull)((0,i.ensureDefined)(t.pane).mainDataSource()),n.mainSeries(),t.e.localY):t.drawing?function(e){const t=(0,i.ensureNotNull)(e.ownerSource());if(!t.alertCreationAvailable().value())return null;const n=t.symbolSource();if(n&&(n.isConvertedToOtherCurrency()||n.isConvertedToOtherUnit()))return null;return{label:ke.format({drawing:e.title()}),trackEventLabel:"ContextMenuDrawing",alertEditorOptions:{drawing:e}}}(t.drawing):null;return!l&&t.drawing?null:(l&&(o=l.alertEditorOptions,r=l.label,a=l.trackEventLabel),r=(0,J.appendEllipsis)(r),new f.TVActionAsync((()=>(o.series?(0,L.hasUserAccessToDataSource)(o.series):Promise.resolve(!0)).then((e=>{const t={label:r,icon:I,statName:"AddAlert"};return e?{...t,shortcutHint:(0,Y.humanReadableHash)(Y.Modifiers.Alt+65),onExecute:()=>{null!==a&&((0,m.trackEvent)("GUI","CreateAlert",a),a=null),window.runOrSignIn((()=>{(0,v.invokeAlertEditorWithOnlineSeries)({...o,dataSourceHub:n,actionSource:"pane_context_menu_add_alert"})}),{source:"Alert add from pane context menu",sourceMeta:"Chart"})}}:{...t,disabled:!0}})))))}function Nn(e,t,n){const i=e.symbolSource();if(i&&(i.isConvertedToOtherCurrency()||i.isConvertedToOtherUnit()))return null;let o,r=(0,h.isStudy)(e)?De.format({series:En(e)}):Le;const a=(0,h.isStudy)(e)?"ContextMenuStudy":e===t?"ContextMenuSeries":null,l=e.priceScale()||t.priceScale(),s=e.firstValue();if(void 0!==n&&null!==s)o=l.coordinateToPrice(n,s);else if(e===t)o=t.lastValueData(4,!0,!0).price;else if((0,h.isStudy)(e)){const t=e.defaultPlotIdForAlert();o=null===t?void 0:e.lastValueData(t,!0,!0).price}return void 0!==o&&(r+=" ("+l.formatter().format(o)+")"),{label:r,trackEventLabel:a,alertEditorOptions:{series:e,value:o}}}function Mn(e,t,n){if(e.model().isInReplay())return null;const i=e.model().mainSeries();return i.isConvertedToOtherCurrency()||i.isConvertedToOtherUnit()?null:new c.ActionAsync("Trading.TradeFromChart",(()=>{const t=new Promise(((t,i)=>{const o=(0,b.tradingService)();if(null===o||0===o.brokersList().length)return void t({label:Re,disabled:!0});const r=e.model().mainSeries();let a;n&&(a=n.localY),(0,y.createTradeContext)(r,a).then((e=>{try{return o.chartContextMenuActions(e)}catch(e){return re.logError(e.message),[]}})).then((e=>{0!==e.length?t({name:"trade",label:Re,subItems:e,statName:"Trading"}):t({label:Re,disabled:!0})})).catch((()=>{i("Unable to get Trade Context")}))}));return(0,w.makeTimeLimited)(t,5e3,"Action trade not received")}))}function Pn(e,t){return!t.isEmpty()&&s.enabled("datasource_copypaste")?new c.Action({actionId:"Chart.Clipboard.PasteSource",label:wn.trim(),shortcutHint:(0,Y.humanReadableHash)(Y.Modifiers.Mod+86),statName:"Paste",
onExecute:()=>e.chartWidgetCollection().clipboard.uiRequestPaste(t)}):null}function Fn(e,t){const i=e.model(),o=i.availableZOrderOperations(t),r=[new c.Action({actionId:"Chart.Source.VisualOrder.BringToFront",label:Dt,statName:"BringToFront",disabled:!o.bringToFrontEnabled,onExecute:()=>i.bringToFront(t)}),new c.Action({actionId:"Chart.Source.VisualOrder.SendToBack",label:kt,statName:"SendToBack",disabled:!o.sendToBackEnabled,onExecute:()=>i.sendToBack(t)}),new c.Action({actionId:"Chart.Source.VisualOrder.BringForward",label:Wt,statName:"BringForward",disabled:!o.bringForwardEnabled,onExecute:()=>i.bringForward(t)}),new c.Action({actionId:"Chart.Source.VisualOrder.SendBackward",label:Ot,statName:"SendBackward",disabled:!o.sendBackwardEnabled,onExecute:()=>i.sendBackward(t)})];return new c.Action({actionId:"Chart.Source.VisualOrder",label:Rt,icon:n(677067),statName:"VisualOrder",subItems:r})}function In(e,t){const n=e.model(),i=(e,i)=>{const o=ne.Interval.parse(n.mainSeries().interval()),r=(0,ie.getIntervalsVisibilitiesForMode)(o,e),a=[],l=[];t.forEach((e=>{const t=e.properties().intervalsVisibilities.childs();a.push(t.ticks),l.push(r.ticks),a.push(t.seconds),l.push(r.seconds),a.push(t.secondsFrom),l.push(r.secondsFrom),a.push(t.secondsTo),l.push(r.secondsTo),a.push(t.minutes),l.push(r.minutes),a.push(t.minutesFrom),l.push(r.minutesFrom),a.push(t.minutesTo),l.push(r.minutesTo),a.push(t.hours),l.push(r.hours),a.push(t.hoursFrom),l.push(r.hoursFrom),a.push(t.hoursTo),l.push(r.hoursTo),a.push(t.days),l.push(r.days),a.push(t.daysFrom),l.push(r.daysFrom),a.push(t.daysTo),l.push(r.daysTo),a.push(t.weeks),l.push(r.weeks),a.push(t.weeksFrom),l.push(r.weeksFrom),a.push(t.weeksTo),l.push(r.weeksTo),a.push(t.months),l.push(r.months),a.push(t.monthsFrom),l.push(r.monthsFrom),a.push(t.monthsTo),l.push(r.monthsTo),a.push(t.ranges),l.push(r.ranges)})),n.setProperties(a,l,i)},o=[new c.Action({actionId:"Chart.Source.IntervalsVisibility.CurrentAndAbove",label:Ut,statName:"currentAndAboveIntervals",onExecute:()=>i(3,Pe)}),new c.Action({actionId:"Chart.Source.IntervalsVisibility.CurrentAndBelow",label:Ht,statName:"currentAndBelowIntervals",onExecute:()=>i(2,Fe)}),new c.Action({actionId:"Chart.Source.IntervalsVisibility.Current",label:Bt,statName:"currentInterval",onExecute:()=>i(1,Ie)}),new c.Action({actionId:"Chart.Source.IntervalsVisibility.All",label:jt,statName:"allIntervals",onExecute:()=>i(0,xe)})];return new c.Action({actionId:"Chart.Source.IntervalsVisibility",label:Vt,statName:"IntervalsVisibility",subItems:o})}function xn(e,t){var n,i,o;const r=e.defaultPriceScale(),a=void 0!==t?r.coordinateToPrice(t,null!==(i=null===(n=e.mainDataSource())||void 0===n?void 0:n.firstValue())&&void 0!==i?i:0):e.model().mainSeries().lastValueData(4,!0,!0).price,l=null===(o=e.mainDataSource())||void 0===o?void 0:o.formatter();if(void 0===a||!l)return null;const s=l.format(a);return new c.Action({actionId:"Chart.Clipboard.CopyPrice",label:`${An} (${s})`,statName:"CopyPrice",onExecute:()=>(0,oe.getClipboard)().writeText(s)})}function Ln(e,t,n,o){
const r=(r,a,l)=>new f.TVAction({label:r,onExecute:()=>{const r=e.model(),s=r.model().timeScale(),c=t.defaultPriceScale();if(!s.isEmpty()&&!c.isEmpty())if(l&&void 0!==n&&void 0!==o){const e=(0,i.ensureNotNull)((0,i.ensureNotNull)(t.mainDataSource()).firstValue()),l=c.coordinateToPrice(n,e),u=Math.round(s.coordinateToIndex(o));r.createLineTool({pane:t,point:{index:u,price:l},linetool:a})}else te.tool.setValue(a)}});return new f.TVAction({label:Be,subItems:[r(je,"LineStudyMtpRiskReward",!1),r(Ye,"LineStudyMtpDecisionPoint",!0),r(Ge,"LineStudyMtpAnalysis",!0),new f.TVAction({label:ze,subItems:[r(qe,"LineStudyMtpElliotWaveMain",!0),r(Ke,"LineStudyMtpElliotWaveMajor",!0),r(Ze,"LineStudyMtpElliotWaveMinor",!0)]}),new f.TVAction({label:Qe,subItems:[r($e,"LineStudyMtpUpWave1OrA",!1),r(Xe,"LineStudyMtpUpWave2OrB",!1),r(Je,"LineStudyMtpUpWaveC",!1),r(et,"LineStudyMtpUpWave3",!1),r(tt,"LineStudyMtpUpWave4",!1),r(nt,"LineStudyMtpUpWave5",!1)]}),new f.TVAction({label:it,subItems:[r(ot,"LineStudyMtpDownWave1OrA",!1),r(rt,"LineStudyMtpDownWave2OrB",!1),r(at,"LineStudyMtpDownWaveC",!1),r(lt,"LineStudyMtpDownWave3",!1),r(st,"LineStudyMtpDownWave4",!1),r(ct,"LineStudyMtpDownWave5",!1)]})]})}function Dn(e){const t=e.actions(),n=[t.showPriceLine];return n.push(t.showSeriesPrevCloseLine),n.push(t.showPrePostMarketPriceLine),n.push(t.showHighLowPriceLines),e.model().model().hasCustomSource("bidask")&&n.push(t.showBidAskLines),new c.Action({actionId:"Chart.Lines",label:Yt,statName:"Lines",subItems:n})}function kn(e,t){const n=[];{if(te.isToolCreatingNow.value())return n;const i=()=>{var t;return null!==(t=e.chartWidgetCollection().activeChartWidget.value())&&void 0!==t?t:e},o=()=>t.some((e=>e.isSynchronizable()));if((0,O.isFeatureEnabled)("save_shared_line_tools")){if(!window.user.is_pro)return n;if(!o())return n;let i=t[0].sharingMode().value();i=t.every((e=>e.sharingMode().value()===i))?i:null;const r=e.model();n.push(new c.Separator,new f.TVAction({label:Sn,statName:"NoSyncDrawing",checkable:!0,checked:0===i,onExecute:e=>{e.isChecked()&&r.shareLineTools(t,0)}}),new f.TVAction({label:_n,statName:"SyncDrawingInLayout",checkable:!0,checked:1===i,onExecute:e=>{e.isChecked()&&r.shareLineTools(t,1)}}),new f.TVAction({label:bn,statName:"SyncDrawingGlobally",checkable:!0,checked:2===i,onExecute:e=>{e.isChecked()&&r.shareLineTools(t,2)}}))}else if(s.enabled("support_multicharts")&&e.isMultipleLayout()){if(!o())return n;const e=t.every((e=>!!e.linkKey().value()));n.push(new c.Separator,new c.Action({actionId:"Chart.LineTool.NoSync",label:Sn,statName:"NoSyncDrawing",checkable:!0,checked:!e,onExecute:e=>{e.isChecked()&&i().unlinkSelectedLine()}}),new c.Action({actionId:"Chart.LineTool.SyncInLayout",label:_n,statName:"SyncDrawingInLayout",checkable:!0,checked:e,onExecute:e=>{e.isChecked()&&i().copyLineToOtherCharts()}}))}}return n}class Wn{constructor(e,t){this._chartWidget=e,this._options=(0,a.merge)((0,a.clone)(Tn),t||{})}async contextMenuActionsForSources(e,t,n){const i=e[0],o=this._options
;if(i===this._chartWidget.model().mainSeries()&&o.mainSeries)return this._contextMenuActionsForSeries(i,t);if((0,h.isESDStudy)(i)&&o.esdStudies)return this._contextMenuActionsForESD();if((0,h.isRollDatesStudy)(i))return this._contextMenuActionsForRollDates();if((0,B.isFuturesContractExpiration)(i))return this._contextMenuActionsForFuturesContractExpiration();if((0,j.isNewsSource)(i))return this._contextMenuActionsForLastNews();if((0,h.isStudy)(i)&&o.studies)return this._contextMenuActionsForStudy(i);if(i instanceof N.PublishedChartsTimeline&&o.publishedCharts)return this._contextMenuActionsForPublishedTimeline(i);if((i instanceof A.LineToolOrder||i instanceof T.LineToolPosition)&&o.ordersAndPositions)return this._contextMenuActionsForTradingDrawings(i);if((0,P.isAlertLabel)(i)&&i.alert().id().value()&&o.alerts)return this._contextMenuActionsForAlertLabel(i.alert(),n);if((0,$.isLineTool)(i)&&o.lineTools){const t=e.filter($.isLineTool);return this._contextMenuActionsForLineTool(t)}return i instanceof F.ChartEventsSource&&o.chartEvents?this._contextMenuActionsForChartEvents(i):[]}_isReadOnly(){return this._chartWidget.readOnly()}_createActionHide(e){return new c.Action({actionId:"Chart.SelectedObject.Hide",label:He,icon:n(484959),statName:"HideSelectedObject",onExecute:this._chartWidget.hideDataSources.bind(this._chartWidget,[e])})}_createActionShow(e){const t=new c.Action({actionId:"Chart.SelectedObject.Show",checkable:!0,label:Ue,icon:n(416911),statName:"ToggleShow"}),i=new u.ActionBinder(t,e.properties().visible,this._chartWidget.model(),se);return t.setBinding(i),i.setValue(e.properties().visible.value()),t}_createActionScale(e){const t=(0,i.ensureNotNull)(e.priceScale()),o=this._chartWidget.model().model(),r=(0,i.ensureNotNull)(o.paneForSource(e)),a=r.priceScalePosition(t),l=("left"===a?r.leftPriceScales():r.rightPriceScales()).indexOf(t),s=o.priceScaleSlotsCount().totallySlots<2?"dontneedname":"needname",u="overlay"===a?"":(0,d.getPriceAxisNameInfo)(a,l).label,h=Tt.format({label:u}),p={"left-needname":h,"left-dontneedname":Ct,"right-needname":h,"right-dontneedname":Nt,"overlay-needname":Et,"overlay-dontneedname":Et}[a+"-"+s];return new c.Action({actionId:"Chart.Source.ChangePriceScale",label:p,icon:n(225191),subItems:this._createActionScaleItems(e)})}_createActionScaleDetach(e,t,n,o){const r=this._chartWidget.model().model(),a=(0,i.ensureNotNull)(r.paneForSource(e));if(!a.canCreateNewPriceScale())return null;const l=(0,i.ensureNotNull)(e.priceScale()),s=l.canDetachSource(e),u=a.priceScalePosition(l),h=s||u!==t;if(!h)return null;const p=r.priceScaleSlotsCount(),m={left:{labelled:vt,sided:wt},right:{labelled:vt,sided:At}},g="left"===t?a.leftPriceScales().length:a.rightPriceScales().length,v=p[t]>g?"labelled":"sided",f=(0,d.getPriceAxisNameInfo)(t,g).label,S=m[t][v].format({label:f});return new c.Action({actionId:"Chart.Source.ChangePriceScale",checkable:!1,disabled:!h,label:S,statName:o,payload:e,onExecute:n})}_onDetachLeft(e){const t=e.getPayload(),n=this._chartWidget.model().model(),o=(0,
i.ensureNotNull)(n.paneForSource(t));this._chartWidget.model().detachToLeft(t,o)}_onDetachRight(e){const t=e.getPayload(),n=this._chartWidget.model().model(),o=(0,i.ensureNotNull)(n.paneForSource(t));this._chartWidget.model().detachToRight(t,o)}_createActionScaleDetachLeft(e){return this._createActionScaleDetach(e,"left",this._onDetachLeft.bind(this),"ToggleScaleLeft")}_createActionScaleDetachRight(e){return this._createActionScaleDetach(e,"right",this._onDetachRight.bind(this),"ToggleScaleRight")}_onMoveToScale(e){const t=e.getPayload();if(t.datasource.priceScale()===t.priceScale)return;const n=this._chartWidget.model().model(),o=(0,i.ensureNotNull)(n.paneForSource(t.datasource));this._chartWidget.model().moveToScale(t.datasource,o,t.priceScale,t.undoText)}_createMoveToScaleAction(e,t,n,i){const o=e.priceScale()===t;return new c.Action({actionId:"Chart.Source.MoveToOtherScale",checkable:!0,checked:o,label:n,statName:"ToggleScale",payload:{datasource:e,priceScale:t,undoText:i},onExecute:this._onMoveToScale.bind(this)})}_onNoScale(e){const t=e.getPayload().datasource,n=this._chartWidget.model().model(),o=(0,i.ensureNotNull)(n.paneForSource(t));o.isOverlay(t)||this._chartWidget.model().detachNoScale(t,o)}_createActionNoScale(e){const t=this._chartWidget.model().model(),n=(0,i.ensureNotNull)(t.paneForSource(e)),o=n.actionNoScaleIsEnabled(e);return new c.Action({actionId:"Chart.Source.MoveToNoScale",checkable:!0,checked:n.isOverlay(e),label:Mt,disabled:!o,statName:"ToggleNoScale",payload:{datasource:e},onExecute:this._onNoScale.bind(this)})}_createActionScaleItems(e){const t=[],n=this._chartWidget.model().model(),o=(0,i.ensureNotNull)(n.paneForSource(e)),r=n.priceScaleSlotsCount().totallySlots>1,a=o.rightPriceScales(),l=o.leftPriceScales(),s=this._createActionScaleDetachRight(e),u=this._createActionScaleDetachLeft(e),h=a.length+l.length+(null===s?0:1)+(null===u?0:1)>2,p={right:{hidden:{checked:{labelled:ut,sided:dt},unchecked:{labelled:ht,sided:pt}},visible:{checked:{labelled:mt,sided:gt},unchecked:{labelled:vt,sided:ft}}},left:{hidden:{checked:{labelled:ut,sided:St},unchecked:{labelled:ht,sided:_t}},visible:{checked:{labelled:mt,sided:bt},unchecked:{labelled:vt,sided:yt}}}},m={right:ue,left:de},g={left:o.visibleLeftPriceScales(),right:o.visibleRightPriceScales()},v=(t,n)=>{const i=("right"===n?a:l)[t],o=g[n].includes(i)?"visible":"hidden",s=e.priceScale()===i?"checked":"unchecked",c=r?"labelled":"sided",u=p[n],h=(0,d.getPriceAxisNameInfo)(n,t).label;return{actionText:u[o][s][c].format({label:h}),undoText:r?ce.format({label:h}):m[n]}};t.push(...a.map(((t,n)=>{const i=v(n,"right");return this._createMoveToScaleAction(e,t,i.actionText,i.undoText)}))),null!==s&&t.push(s);h&&(a.length>0||null!==s)&&t.push(new c.Separator);t.push(...l.map(((t,n)=>{const i=v(n,"left");return this._createMoveToScaleAction(e,t,i.actionText,i.undoText)}))),null!==u&&t.push(u);h&&(l.length>0||null!==u)&&t.push(new c.Separator);return t.push(this._createActionNoScale(e)),t}_createActionMergeUp(e){const t=this._chartWidget.model()
;return t.model().isMergeUpAvailableForSource(e)?new c.Action({actionId:"Chart.Source.MergeUp",label:Ft,statName:"MergeUp",onExecute:()=>t.mergeSourceUp(e)}):null}_createActionUnmergeUp(e){const t=this._chartWidget.model();return t.model().isUnmergeAvailableForSource(e)?new c.Action({actionId:"Chart.Source.UnmergeUp",label:It,statName:"UnmergeUp",onExecute:()=>t.unmergeSourceUp(e)}):null}_createActionMergeDown(e){const t=this._chartWidget.model();return t.model().isMergeDownAvailableForSource(e)?new c.Action({actionId:"Chart.Source.MergeDown",label:xt,statName:"MergeDown",onExecute:()=>t.mergeSourceDown(e)}):null}_createActionUnmergeDown(e){const t=this._chartWidget.model();return t.model().isUnmergeAvailableForSource(e)?new c.Action({actionId:"Chart.Source.UnmergeDown",label:Lt,statName:"UnmergeDown",onExecute:()=>t.unmergeSourceDown(e)}):null}_mergeContentMenuItems(e){return[this._createActionMergeUp(e),this._createActionUnmergeUp(e),this._createActionMergeDown(e),this._createActionUnmergeDown(e)].filter(a.notNull)}_createActionMove(e){const t=this._mergeContentMenuItems(e);return t.length>0?new c.Action({actionId:"Chart.Source.MoveToPane",label:Pt,icon:n(854190),subItems:t}):null}_contextMenuActionsForSeries(e,t){var n;const o=[],r=e.properties().childs().visible.value(),a=this._chartWidget.model().model(),l=(0,i.ensureNotNull)(a.paneForSource(e)),u=this._chartWidget.actions();if(this._isReadOnly())o.push(r?this._createActionHide(e):this._createActionShow(e)),o.push(new c.Separator),o.push(this._createActionScale(e));else{if(e.alertCreationAvailable().value()){const t=Cn(this._chartWidget,{series:e});null!==t&&o.push(t)}if(o.push(this._createActionAddChildStudy(e)),this._options.fundamentals){const t=this._createActionAddFundamentals(e);null!==t&&o.push(t)}if(this._options.mainSeriesTrade){const e=Mn(this._chartWidget);null!==e&&o.push(e)}o.length>0&&!(o[o.length-1]instanceof c.Separator)&&o.push(new c.Separator),s.enabled("symbol_info")&&o.push(u.showSymbolInfoDialog);const d=a.mainSeries().symbolInfo();if(u.showFinancials&&null!==d&&(0,k.hasMoreFinancialsButton)(d.type,d.typespecs)&&o.push(u.showFinancials),o.length>0&&!(o[o.length-1]instanceof c.Separator)&&o.push(new c.Separator),!l.isEmpty()&&s.enabled("datasource_copypaste")){const e=xn(l,t&&"localY"in t?t.localY:void 0),n=Pn(this._chartWidget,l);(e||n)&&(e&&o.push(e),n&&o.push(n),o.push(new c.Separator))}o.push(Fn(this._chartWidget,[e]));const h=this._createActionMove(e);null!==h&&o.push(h),o.push(this._createActionScale(e)),o.push(r?this._createActionHide(e):this._createActionShow(e)),o.push(new c.Separator),o.push(Dn(this._chartWidget)),o.push(new c.Separator);Boolean(null===(n=window.widgetbar)||void 0===n?void 0:n.widget("watchlist"))&&u.addToWatchlist&&o.push(u.addToWatchlist),s.enabled("text_notes")&&o.push(u.addToTextNotes),o[o.length-1]instanceof c.Separator||o.push(new c.Separator),window.pro&&window.pro.hasPackage("mtp-mtpredictor")&&o.push((0,i.ensureNotNull)(Ln(this._chartWidget,l)),new c.Separator),
s.enabled("show_chart_property_page")&&!this._chartWidget.onWidget()&&o.push(u.mainSeriesPropertiesAction),o[o.length-1]instanceof c.Separator&&o.pop()}return o}_createActionAddChildStudy(e){const t=this._chartWidget.model().model();return new f.TVAction({label:Gt.format({studyTitle:En(e)}),icon:n(706862),statName:"ApplyIndicator",onExecute:()=>{const n=this._chartWidget.showIndicators((0,h.isStudy)(e)?[e]:[]);if(n&&(0,h.isStudy)(e)){const e=()=>{(0,m.trackEvent)("SOS","Apply SOS","Apply by RC menu")},i=t.studyInserted();i.subscribe(this,e),n.visible().subscribe((t=>{t||i.unsubscribe(this,e)}),{once:!0})}}})}_createActionAddFundamentals(e){{const t=e.symbolInfo();if(null!==t&&"forex"!==t.type&&!(0,K.isCryptoSymbol)(t))return new f.TVAction({label:zt.format({instrumentName:En(e)}),icon:n(428026),statName:"ApplyFundamental",onExecute:()=>{this._chartWidget.showFundamentals(e!==this._chartWidget.model().mainSeries()?e:void 0)}})}return null}_createActionShowSymbolInfoDialog(e,t){const i=this._chartWidget.model().model();return new c.Action({actionId:"Chart.Dialogs.ShowSymbolInfo",label:yn,icon:n(437924),checkable:!1,statName:"SymbolInfo",onExecute:()=>{const n=e.symbol(),o={symbolInfo:e.symbolInfo(),unitDescription:e=>t.description(e),dateFormatter:i.dateFormatter()};(0,Z.showSymbolInfoDialog)(n,o)}})}_createActionShowProperties(e){return new c.Action({actionId:"Chart.Indicator.ShowSettingsDialog",label:qt,icon:n(951983),statName:"EditSelectedObject",onExecute:()=>this._chartWidget.showSourceProperties(e)})}async _contextMenuActionsForStudy(e){const t=this._chartWidget.actions(),i=e.properties().childs().visible.value(),o=[];if(!e.userEditEnabled())return o;if(this._chartWidget.readOnly())o.push(i?this._createActionHide(e):this._createActionShow(e)),o.push(new c.Separator),(0,S.isNonSeriesStudy)(e)||o.push(this._createActionScale(e));else{if(e.alertCreationAvailable().value()){const t=Cn(this._chartWidget,{series:e});null!==t&&o.push(t)}if(s.enabled("study_on_study")&&e.canHaveChildren()&&o.push(this._createActionAddChildStudy(e)),(e instanceof q.StudyCompare||e instanceof z.study_Overlay)&&this._options.fundamentals){const t=this._createActionAddFundamentals(e);null!==t&&o.push(t)}const r=this._createApplyToEntireLayoutCommand(e);if(null!==r&&o.push(r),o.length>0&&!(o[o.length-1]instanceof c.Separator)&&o.push(new c.Separator),s.enabled("symbol_info")&&(e instanceof q.StudyCompare||e instanceof z.study_Overlay)&&null!==e.symbolInfo()&&(o.push(this._createActionShowSymbolInfoDialog(e,this._chartWidget.model().model().availableUnits())),o.push(new c.Separator)),o.push(Fn(this._chartWidget,[e])),o.push(In(this._chartWidget,[e])),!(0,S.isNonSeriesStudy)(e)){const t=this._createActionMove(e);null!==t&&o.push(t),o.push(this._createActionScale(e))}o.push(new c.Separator);const a=e.metaInfo();if(!(0,h.isFundamentalStudy)(e)&&a.pine&&t.viewSourceCode){const{scriptIdPart:i,pine:{version:r}}=a;let s;if(R.StudyMetaInfo.hasStdSuffix(i)){const{default:e}=await n.e(95937).then(n.t.bind(n,676006,19));i in e&&(s=()=>(0,
V.showSupportDialog)({solutionId:e[i]}))}else R.StudyMetaInfo.hasPubSuffix(i)&&(s=async()=>{try{const{chartImageUrl:t}=await(0,C.requestScriptInfo)(i);(0,U.pushChartPage)({chartId:t,chartName:e.title()})}catch(e){(0,H.showScriptInfoErrorNoticeDialog)()}});void 0!==s&&o.push(new f.TVAction({label:(0,J.appendEllipsis)(l.t(null,void 0,n(907859))),statName:"OpenSelectedObjectAbout",onExecute:s})),o.push(t.viewSourceCode),o.push(new c.Separator),t.viewSourceCode.update({disabled:!1}),(0,C.isAuthToGetPineSourceCode)(i,r).done((e=>{e||t.viewSourceCode.update({disabled:!0})})).fail((e=>{re.logError("Failed isAuthToGetPineSourceCode, reason: "+e)}))}if(e.copiable()){const t=new c.Action({actionId:"Chart.Clipboard.CopySource",label:Qt,shortcutHint:(0,Y.humanReadableHash)(Y.Modifiers.Mod+67),statName:"Copy",onExecute:()=>{this._chartWidget.chartWidgetCollection().clipboard.uiRequestCopy([e])}});o.push(t)}o.push(i?this._createActionHide(e):this._createActionShow(e)),o.push(t.studyRemove),this._chartWidget.onWidget()||(o.push(new c.Separator),this._options.objectTree&&t.paneObjectTree&&o.push(t.paneObjectTree)),o.push(new c.Separator),s.enabled("property_pages")&&new _.MetaInfoHelper(a).hasUserEditableOptions()&&o.push(this._createActionShowProperties(e)),o[o.length-1]instanceof c.Separator&&o.pop()}return o}_createEditAlertDrawingAction(e){return new f.TVAction({label:We.format({title:e.title()}),icon:x,statName:"EditAlert",onExecute:()=>{window.runOrSignIn((()=>{e.editAlert("pane_context_menu_edit_alert")}),{source:"Alert edit from pane context menu"})}})}_createLineToolTemplateAction(e){{const t=this._chartWidget.model(),i=n=>{t.applyLineToolTemplate(e,n,Ce)};return new c.ActionAsync("Chart.LineTool.Templates",(async()=>{const{LinetoolTemplatesList:o}=await Promise.all([n.e(29594),n.e(91622),n.e(3177)]).then(n.bind(n,760396)),r=new o(e.toolname,i),a=[],l=new c.Action({actionId:"Chart.LineTool.Templates.SaveAs",label:Zt,statName:"SaveAs",onExecute:()=>{r.showSaveDialog((t=>{const n=JSON.stringify(e.template());r.saveTemplate(t,n)}))}});a.push(l);const s=new c.Action({actionId:"Chart.LineTool.Templates.ApplyDefaults",label:Kt,statName:"ApplyDefault",onExecute:()=>{t.restorePropertiesForSource(e),window.lineToolPropertiesToolbar.onSourceChanged([e])}});return a.push(s),new Promise((e=>{r.templatesLoaded().then((()=>{var e;const t=null!==(e=r.getData())&&void 0!==e?e:[];t.length>0&&a.push(new c.Separator),t.forEach(((e,t)=>{const n=new c.Action({actionId:"Chart.LineTool.Templates.Apply",label:e,statName:"ApplyTemplate",onExecute:()=>r.loadTemplate(e),toolbox:{type:G.ToolboxType.Delete,action:()=>{r.deleteAction(e)}},showToolboxOnHover:!0});a.push(n)}))}),(e=>{re.logWarn(e)})).then((()=>{e({label:Xt,statName:"Template",subItems:a})}))}))}))}}_createActionToggleLockLineTools(e){const t=e[0].properties().frozen.value(),i=t?en:tn;return new c.Action({actionId:"Chart.SelectedObject.ToggleLocked",label:i,statName:"ToggleLockSelectedObject",checkable:!0,icon:n(t?397874:902872),onExecute:()=>{
if(1===e.length)this._chartWidget.toggleLockSelectedObject();else{const n=t?Me:Ne,i=this._chartWidget.model();i.withMacro(n,(()=>{e.forEach((e=>{i.setProperty(e.properties().frozen,!t,n)}))}))}}})}async _contextMenuActionsForLineTool(e){const t=[],o=this._chartWidget.actions(),a=this._chartWidget.model().model(),l=()=>{t.push(Fn(this._chartWidget,e))},u=()=>{t.push(In(this._chartWidget,e))},d=()=>{const i=e.filter((e=>e.cloneable()));if(i.length>0){const e=new c.Action({actionId:"Chart.LineTool.Clone",label:$t,icon:n(201457),shortcutHint:(0,Y.humanReadableModifiers)(Y.Modifiers.Mod)+"Drag",statName:"Clone",onExecute:()=>this._chartWidget.model().cloneLineTools(i,!1)},"Clone");t.push(e)}return!!i.length},h=()=>{const n=e.filter((e=>e.copiable()));if(n.length>0){const e=new c.Action({actionId:"Chart.Clipboard.CopyLineTools",label:Qt,shortcutHint:(0,Y.humanReadableHash)(Y.Modifiers.Mod+67),statName:"Copy",onExecute:()=>this._chartWidget.chartWidgetCollection().clipboard.uiRequestCopy(n)},"Copy");t.push(e)}return!!n.length},p=()=>{const n=kn(this._chartWidget,e);return t.push(...n),n.length>0},m=async e=>{if(this._chartWidget.model().isInReplay())return;const n=e.getOrderTemplate();if(null===n)return;const o=(0,b.tradingService)();if(null!==o){const e=o.activeBroker();if(e&&1===e.connectionStatus()&&e.metainfo().configFlags.supportLimitOrders){const o=a.mainSeries();n.symbol=o.proSymbol();if((await e.isTradable(n.symbol)).tradable){const{qty:{step:o}}=await e.symbolInfo(n.symbol);n.qty=function(e,t){return(0,r.Big)(e).div(t).round(void 0,0).mul(t).toNumber()}(n.qty,o),t.push(new c.Separator),t.push(function(e){const t=(0,i.ensureNotNull)((0,b.tradingService)());return new c.Action({actionId:"Chart.LineTool.CreateLimitOrderFromState",label:Ve,statName:"CreateLimitOrder",onExecute:()=>{t.trackEvent("Chart Context Menu","RiskRewardCreateLimitOrder"),(0,i.ensureNotNull)(t.brokerCommandsUI()).placeOrder(e)}})}(n))}}else null===e&&(t.push(new c.Separator),t.push((0,i.ensureNotNull)(function(){const e=(0,i.ensureNotNull)((0,b.tradingService)());return new f.TVAction({label:Ve,statName:"ShowSelectBrokerNotification",onExecute:()=>{var t;(0,W.isMobileTradingAvailable)()&&!(null===(t=window.TradingView.bottomWidgetBar)||void 0===t?void 0:t.isVisible().value())?e.toggleTradingPanelPopup():e.toggleTradingWidget(),e.onNeedSelectBroker.fire()}})}())))}},g=e=>{const n=new c.Action({actionId:"Chart.ScrollToLineTool",label:Jt.format({lineToolName:e.title()}),statName:"GoToLineTool",checkable:!1,onExecute:async()=>this._chartWidget.model().scrollToLineTool(e)});t.push(n)},v=e=>{const t=this._chartWidget.model().model().lineToolsGroupModel(),n=e.map((e=>t.groupForLineTool(e)));return new Set(n).size<=1};if(1===e.length){const n=e[0];if(this._chartWidget.readOnly())t.push(o.lineHide);else if(n.userEditEnabled()){if(s.enabled("alerts")&&!this._chartWidget.onWidget())if(n.hasAlert&&n.hasAlert.value())t.push(this._createEditAlertDrawingAction(n)),t.push(new c.Separator);else if(n.canHasAlert()&&n.alertCreationAvailable().value()){
const e=Cn(this._chartWidget,{drawing:n});null!==e&&(t.push(e),t.push(new c.Separator))}{const e=this._createLineToolTemplateAction(n);null!==e&&t.push(e)}l(),u(),this._options.objectTree&&o.paneObjectTree&&t.push(o.paneObjectTree),await m(n),t.push(new c.Separator);let e=d();e=h()||e,e=p()||e,e&&t.push(new c.Separator),t.push(this._createActionToggleLockLineTools([n])),t.push(o.lineHide),t.push(o.lineRemove),n.points().length>0&&this._options.gotoLineTool&&(t.push(new c.Separator),g(n));const i=await this._chartWidget.propertiesDefinitionsForSource(n);if(s.enabled("property_pages")&&null!==i&&(t.push(new c.Separator),t.push(o.format)),n.additionalActions){t.push(new c.Separator);const e=n.additionalActions(this._chartWidget.model());t.push(...e)}}}else this._options.objectTree&&o.paneObjectTree&&t.push(o.paneObjectTree),v(e)&&l(),u(),t.length>0&&t.push(new c.Separator),d(),h(),p(),t.push(new c.Separator),t.push(this._createActionToggleLockLineTools(e)),t.push(o.lineHide),t.push(o.lineRemove),s.enabled("property_pages")&&(t.push(new c.Separator),t.push(o.format));return t}_createEarningsShow(){const e=this._chartWidget.model().mainSeries().properties().childs().esdShowEarnings;return new f.TVAction({label:nn,checkable:!0,checked:e.value(),name:"ToggleShowEarnings",statName:"ToggleShowEarnings",onExecute:t=>this._chartWidget.model().setProperty(e,t.isChecked(),he)})}_createDividendsShow(){const e=this._chartWidget.model().mainSeries().properties().childs().esdShowDividends;return new f.TVAction({label:on,checkable:!0,checked:e.value(),name:"ToggleShowDividends",statName:"ToggleShowDividends",onExecute:t=>this._chartWidget.model().setProperty(e,t.isChecked(),pe)})}_createSplitsShow(){const e=this._chartWidget.model().mainSeries().properties().childs().esdShowSplits;return new f.TVAction({checkable:!0,label:rn,checked:e.value(),name:"ToggleShowSplits",statName:"ToggleShowSplits",onExecute:t=>this._chartWidget.model().setProperty(e,t.isChecked(),me)})}_contextMenuActionsForESD(){const e=[];return this._chartWidget.readOnly()||e.push((0,i.ensureNotNull)(this._createDividendsShow()),(0,i.ensureNotNull)(this._createSplitsShow()),(0,i.ensureNotNull)(this._createEarningsShow())),e}_contextMenuActionsForRollDates(){const e=[];if(!this._chartWidget.readOnly()){const t=this._chartWidget.model().mainSeries().properties().childs().showContinuousContractSwitches;e.push(new f.TVAction({label:an,checkable:!0,checked:t.value(),name:"ToggleShowContractSwitches",statName:"ToggleShowContractSwitches",onExecute:e=>this._chartWidget.model().setProperty(t,e.isChecked(),ge)}))}return e}_contextMenuActionsForFuturesContractExpiration(){const e=[];if(!this._chartWidget.readOnly()){const t=this._chartWidget.model().mainSeries().properties().childs().showFuturesContractExpiration;e.push(new f.TVAction({label:ln,checkable:!0,checked:t.value(),name:"ToggleShowFuturesContractExpirations",statName:"ToggleShowFuturesContractExpirations",onExecute:e=>this._chartWidget.model().setProperty(t,e.isChecked(),ve)}))}return e}
_contextMenuActionsForLastNews(){const e=[];if(!this._chartWidget.readOnly()){const t=this._chartWidget.model().mainSeries().properties().childs().showLastNews;e.push(new f.TVAction({label:sn,checkable:!0,checked:t.value(),name:"ToggleShowLastNews",statName:"ToggleShowLastNews",onExecute:e=>this._chartWidget.model().setProperty(t,e.isChecked(),fe)}))}return e}_contextMenuActionsForPublishedTimeline(e){const t=this._chartWidget.actions(),n=[];if(n.push(t.lineHide),window.is_authenticated){const t=e.properties().childs().filter,i=new f.TVAction({checked:t.value()===M.PublishedChartsFilter.None,checkable:!0,label:cn,name:"ToggleAllIdeas",statName:"ToggleAllIdeas",onExecute:()=>this._chartWidget.model().setProperty(t,M.PublishedChartsFilter.None,Se)}),o=new f.TVAction({checked:t.value()===M.PublishedChartsFilter.Following,checkable:!0,label:un,name:"ToggleIdeasOfPeopleAndUser",statName:"ToggleIdeasOfPeopleAndUser",onExecute:()=>this._chartWidget.model().setProperty(t,M.PublishedChartsFilter.Following,_e)}),r=new f.TVAction({checked:t.value()===M.PublishedChartsFilter.Private,checkable:!0,label:dn,name:"ToggleUserIdeas",statName:"ToggleUserIdeas",onExecute:()=>this._chartWidget.model().setProperty(t,M.PublishedChartsFilter.Private,be)});n.push(new c.Separator,i,o,r)}return n}_contextMenuActionsForTradingDrawings(e){return e.contextMenuItems()}_createAlertToggleHorzLineLabelAction(e){const t=(0,g.getSettingsProperty)().childs().line.childs().visible,n=t.value()?le:ae,i=t.value()?"turn_off_line":"turn_on_line";return new f.TVAction({checkable:!0,label:Oe,checked:t.value(),statName:"ToggleExtendAlertLine",onExecute:()=>((0,m.trackEvent)("chart_alert",i,e),this._chartWidget.model().setProperty(t,!t.value(),n))})}_contextMenuActionsForAlertLabel(e,t){const n=`chart_alert_context_menu_${null!=t?t:"line"}`,i="chart_alert",o=[];return e.isActive()?o.push(E.chartAlertActions.stopAlert(e,(()=>{(0,m.trackEvent)(i,"stop",n)}))):o.push(E.chartAlertActions.restartAlert(e,"alert_label_context_menu_restart")),o.push(E.chartAlertActions.editAlert(e,"alert_label_context_menu_edit",void 0,(()=>{(0,m.trackEvent)(i,"edit",n)}))),o.push(E.chartAlertActions.deleteAlert(e,(()=>{(0,m.trackEvent)(i,"delete",n)}))),o.push(new c.Separator),o.push(this._createAlertToggleHorzLineLabelAction(n)),o}_contextMenuActionsForChartEvents(e){const t=[];if(s.enabled("property_pages")){const e=new f.TVAction({label:hn,statName:"Format",onExecute:()=>this._chartWidget.showGeneralChartProperties(p.TabNames.eventsAndAlerts)});t.push(e)}const n=new f.TVAction({label:pn,name:"HideEvents",statName:"HideEvents",onExecute:()=>this._chartWidget.model().setProperty(e.properties().childs().visible,!1,ye)});return t.push(n),t}_createApplyToEntireLayoutCommand(e){if(!this._chartWidget.chartWidgetCollection().applyIndicatorsToAllChartsAvailable())return null;const t=this._chartWidget.model().model();if(e.parentSources().length>0)return null;const n=(0,
i.ensureNotNull)(t.paneForSource(e)),o=t.paneForSource(t.mainSeries())===n,r=e instanceof q.StudyCompare&&e.priceScale()===t.mainSeries().priceScale()&&(0,i.ensureNotNull)(e.priceScale()).isPercentage(),a=o?void 0:t.panes().indexOf(n);let l=gn,s=Ae,u="AddStudyToEntireLayout";return(0,X.isActingAsSymbolSource)(e)&&(l=mn,s=we,u="AddSymbolToEntireLayout"),(0,h.isStudyStrategy)(e)&&(l=vn,s=Te,u="AddStrategyToEntireLayout"),e instanceof D.Fundamental&&(l=fn,s=Ee,u="AddFundamentalToEntireLayout"),new c.Action({actionId:"Chart.AddIndicatorToAllCharts",label:l,statName:u,onExecute:()=>{const n=(0,i.ensureNotNull)((0,Q.clipboardDataForSources)(t.id(),[e])),l=this._chartWidget.chartWidgetCollection(),c={isOnMainPane:o,asCompare:r,paneIndex:a};l.applyIndicatorToAllCharts(this._chartWidget,n,c,s)}},"applyStudyToEntireLayout")}}},66980:(e,t,n)=>{n.d(t,{EU_COUNTRY_CODE:()=>r,ERL_COUNTRY_CODE:()=>a,countries:()=>l,countriesToMarketsMap:()=>s,countriesToMarketsArray:()=>c,currenciesByCountryCodes:()=>d,defaultCurrencies:()=>h,defaultMarkets:()=>p,convertCurrenciesToCountryCodes:()=>m});var i=n(777754);const o="EUR",r="eu",a="ERL",l=[{name:i.t(null,void 0,n(476342)),code:"ao",group:"Middle East / Africa",currency:"AON"},{name:i.t(null,void 0,n(834742)),code:"ar",group:"Mexico and South America",currency:"ARS"},{name:i.t(null,void 0,n(50132)),code:"au",group:"Asia / Pacific",currency:"AUD"},{name:i.t(null,void 0,n(226505)),code:"at",group:"Europe",currency:"ATS"},{name:i.t(null,void 0,n(53260)),code:"bh",group:"Middle East / Africa",currency:"BHD"},{name:i.t(null,void 0,n(637653)),code:"be",group:"Europe",currency:"BEF"},{name:i.t(null,void 0,n(746406)),code:"bw",group:"Middle East / Africa",currency:"BWP"},{name:i.t(null,void 0,n(228867)),code:"br",group:"Mexico and South America",currency:"BRL"},{name:i.t(null,void 0,n(411176)),code:"us",group:"North America",currency:"USD"},{name:i.t(null,void 0,n(280206)),code:"ca",group:"North America",currency:"CAD"},{name:i.t(null,void 0,n(141840)),code:"cl",group:"Mexico and South America",currency:"CLP"},{name:i.t(null,void 0,n(420844)),code:"cn",group:"Asia / Pacific",currency:"CNY"},{name:i.t(null,void 0,n(731144)),code:"co",group:"Mexico and South America",currency:"COP"},{name:i.t(null,void 0,n(342054)),code:"cz",group:"Europe",currency:"CZK"},{name:i.t(null,void 0,n(64901)),code:"dk",group:"Europe",currency:"DKK"},{name:i.t(null,void 0,n(205390)),code:"eg",group:"Middle East / Africa",currency:"EGP"},{name:i.t(null,void 0,n(959823)),code:"ee",group:"Europe",currency:"EEK"},{name:i.t(null,void 0,n(698440)),code:"et",group:"Middle East / Africa",currency:"ETB"},{name:i.t(null,void 0,n(600442)),code:r,group:"Europe",currency:o},{name:i.t(null,void 0,n(936693)),code:"fi",group:"Europe",currency:"FIM"},{name:i.t(null,void 0,n(696013)),code:"fr",group:"Europe",currency:"FRF"},{name:i.t(null,void 0,n(159985)),code:"de",group:"Europe",currency:"DEM"},{name:i.t(null,void 0,n(848856)),code:"gh",group:"Middle East / Africa",currency:"GHC"},{name:i.t(null,void 0,n(480411)),code:"gr",group:"Europe",
currency:"GRD"},{name:i.t(null,void 0,n(532918)),code:"hk",group:"Asia / Pacific",currency:"HKD"},{name:i.t(null,void 0,n(930646)),code:"hu",group:"Europe",currency:"HUF"},{name:i.t(null,void 0,n(664150)),code:"is",group:"Europe",currency:"ISK"},{name:i.t(null,void 0,n(16207)),code:"in",group:"Asia / Pacific",currency:"INR"},{name:i.t(null,void 0,n(609759)),code:"id",group:"Asia / Pacific",currency:"IDR"},{name:i.t(null,void 0,n(328408)),code:"ie",group:"Europe",currency:"IRP"},{name:i.t(null,void 0,n(261935)),code:"il",group:"Middle East / Africa",currency:"ILS"},{name:i.t(null,void 0,n(43246)),code:"it",group:"Europe",currency:"ITL"},{name:i.t(null,void 0,n(692443)),code:"jp",group:"Asia / Pacific",currency:"JPY"},{name:i.t(null,void 0,n(89080)),code:"ke",group:"Middle East / Africa",currency:"KES"},{name:i.t(null,void 0,n(839876)),code:"kr",group:"Asia / Pacific",currency:"KRW"},{name:i.t(null,void 0,n(872374)),code:"kw",group:"Middle East / Africa",currency:"KWD"},{name:i.t(null,void 0,n(484045)),code:"lv",group:"Europe",currency:"LVR"},{name:i.t(null,void 0,n(529113)),code:"lt",group:"Europe",currency:"LTL"},{name:i.t(null,void 0,n(652371)),code:"mw",group:"Asia / Pacific",currency:"MWK"},{name:i.t(null,void 0,n(622622)),code:"my",group:"Asia / Pacific",currency:"MYR"},{name:i.t(null,void 0,n(902616)),code:"mu",group:"Middle East / Africa",currency:"MUR"},{name:i.t(null,void 0,n(555087)),code:"mx",group:"Mexico and South America",currency:"MXN"},{name:i.t(null,void 0,n(158266)),code:"mz",group:"Middle East / Africa",currency:"MZM"},{name:i.t(null,void 0,n(714417)),code:"na",group:"Middle East / Africa",currency:"NAD"},{name:i.t(null,void 0,n(353770)),code:"nl",group:"Europe",currency:"NLG"},{name:i.t(null,void 0,n(824143)),code:"nz",group:"Asia / Pacific",currency:"NZD"},{name:i.t(null,void 0,n(62410)),code:"ng",group:"Middle East / Africa",currency:"NGN"},{name:i.t(null,void 0,n(145075)),code:"no",group:"Europe",currency:"NOK"},{name:i.t(null,void 0,n(552456)),code:"om",group:"Middle East / Africa",currency:"OMR"},{name:i.t(null,void 0,n(622979)),code:"pe",group:"Mexico and South America",currency:"PEN"},{name:i.t(null,void 0,n(226813)),code:"ph",group:"Asia / Pacific",currency:"PHP"},{name:i.t(null,void 0,n(210119)),code:"pl",group:"Europe",currency:"PLZ"},{name:i.t(null,void 0,n(123496)),code:"pt",group:"Europe",currency:"PTE"},{name:i.t(null,void 0,n(619056)),code:"qa",group:"Middle East / Africa",currency:"QAR"},{name:i.t(null,void 0,n(385646)),code:"ro",group:"Europe",currency:"RON"},{name:i.t(null,void 0,n(238201)),code:"ru",group:"Europe",currency:"RUR"},{name:i.t(null,void 0,n(242890)),code:"rw",group:"Middle East / Africa",currency:"RWF"},{name:i.t(null,void 0,n(936261)),code:"sa",group:"Middle East / Africa",currency:"SAR"},{name:i.t(null,void 0,n(896573)),code:"rs",group:"Europe",currency:"RSD"},{name:i.t(null,void 0,n(959609)),code:"sc",group:"Middle East / Africa",currency:"SCR"},{name:i.t(null,void 0,n(156683)),code:"sg",group:"Asia / Pacific",currency:"SGD"},{name:i.t(null,void 0,n(506262)),
code:"sk",group:"Europe",currency:"SKK"},{name:i.t(null,void 0,n(528900)),code:"za",group:"Middle East / Africa",currency:"ZAR"},{name:i.t(null,void 0,n(792334)),code:"es",group:"Europe",currency:"ESP"},{name:i.t(null,void 0,n(182404)),code:"se",group:"Europe",currency:"SEK"},{name:i.t(null,void 0,n(440414)),code:"ch",group:"Europe",currency:"CHF"},{name:i.t(null,void 0,n(889563)),code:"tw",group:"Asia / Pacific",currency:"TWD"},{name:i.t(null,void 0,n(684146)),code:"tz",group:"Middle East / Africa",currency:"TZS"},{name:i.t(null,void 0,n(433138)),code:"th",group:"Asia / Pacific",currency:"THB"},{name:i.t(null,void 0,n(694398)),code:"tr",group:"Middle East / Africa",currency:"TRL"},{name:i.t(null,void 0,n(308395)),code:"ug",group:"Middle East / Africa",currency:"UGX"},{name:i.t(null,void 0,n(263018)),code:"ua",group:"Europe",currency:"UAK"},{name:i.t(null,void 0,n(287916)),code:"ae",group:"Middle East / Africa",currency:"AED"},{name:i.t(null,void 0,n(606994)),code:"gb",group:"Europe",currency:"GBP"},{name:i.t(null,void 0,n(239478)),code:"zm",group:"Middle East / Africa",currency:"ZMK"},{name:i.t(null,void 0,n(58309)),code:"zw",group:"Middle East / Africa",currency:"ZWD"}],s=new Map;for(const e of l)s.set(e.code,{...e,desc:"",value:e.code,country:e.code});const c=Array.from(s.values()),u=new Map,d=new Map;for(const e of l)u.set(e.currency,e.code),d.set(e.code,e.currency);const h=["USD",o,"ITL","NZD","CHF","AUD","FRF","JPY","ZAR","TRL","CAD","DEM","MXN","ESP","GBP"],p=m(h,!1);function m(e,t){const n=[];for(const i of e){const e=i===o&&t?a:u.get(i);e&&n.push(e)}return n}},9304:(e,t,n)=>{n.d(t,{magnetEnabled:()=>g,magnetMode:()=>v,setIsMagnetEnabled:()=>f,setMagnetMode:()=>S});var i=n(87225),o=n(988411),r=n.n(o),a=n(59703),l=n(480071),s=n(463346),c=n(531508);const u=new(r())(!1),d=new(r())(a.MagnetMode.WeakMagnet),h=(0,c.modifierPressed)(),p=(0,c.shiftPressed)();function m(){const e=h.value();if(p.value()&&(l.isToolEditingNow.value()||l.isToolCreatingNow.value()))return void u.setValue(!1);let t,n;if(l.activePointSelectionMode.value()===l.SelectPointMode.Replay)t=n=!1;else{const i=l.tool.value(),o=l.isStudyEditingNow.value()||l.activePointSelectionMode.value()===l.SelectPointMode.Study;t=e&&((0,s.isLineToolName)(i)||l.isToolEditingNow.value()||(0,l.toolIsMeasure)(i)||o),n=(0,l.properties)().childs().magnet.value()}d.setValue(!n&&t?a.MagnetMode.StrongMagnet:(0,l.properties)().childs().magnetMode.value()),u.setValue(t?!n:n)}function g(){return u}function v(){return d}function f(e){(0,i.saveDefaultProperties)(!0),(0,l.properties)().childs().magnet.setValue(e),(0,i.saveDefaultProperties)(!1)}function S(e){(0,i.saveDefaultProperties)(!0),(0,l.properties)().childs().magnetMode.setValue(e),(0,l.properties)().childs().magnet.setValue(!0),(0,i.saveDefaultProperties)(!1)}(0,l.runOnDrawingStateReady)((()=>{(0,l.properties)().childs().magnet.subscribe(null,m),(0,l.properties)().childs().magnetMode.subscribe(null,m),h.subscribe(m),p.subscribe(m),l.tool.subscribe(m),l.isToolEditingNow.subscribe(m),m()}))}}]);